document.addEventListener("DOMContentLoaded",()=>{const tasksList=document.querySelector(".tasks");tasksList.addEventListener("click",event=>{const deleteButton=event.target.closest(".delete-btn");if(deleteButton){const taskContainer=deleteButton.closest(".task-container");taskContainer&&(taskContainer.classList.add("fade-out"),setTimeout(()=>{taskContainer.remove()},500))}});const newTaskBtn=document.querySelector(".new-task-button"),newTaskPopup=document.querySelector(".new-task-popup"),submitBtn=document.getElementById("submit-btn"),overlay=document.querySelector(".overlay"),newTaskInput=document.getElementById("new-task");let taskIdCounter=1;function addTask(){const newTaskInputValue=newTaskInput.value.trim();if(""!==newTaskInputValue){const taskId=`customCheckbox${taskIdCounter}`,tasksList=document.querySelector(".tasks"),taskContainer=document.createElement("div");taskContainer.classList.add("task-container"),taskContainer.innerHTML=`\n                <input type="checkbox" name="To-do" id="${taskId} customCheckbox" class="customCheckbox">\n                <label for="${taskId} customCheckbox" class="task-box">${newTaskInputValue}</label>\n                <div class="task-delete delete-btn">\n                    delete\n                </div>\n            `,tasksList.appendChild(taskContainer),taskIdCounter++,newTaskInput.value="",newTaskPopup.classList.remove("show"),overlay.style.display="none";const checkbox=taskContainer.querySelector('input[type="checkbox"]'),taskBox=taskContainer.querySelector(".task-box");checkbox.addEventListener("change",()=>{checkbox.checked?taskBox.classList.add("checked"):taskBox.classList.remove("checked")})}else alert("Please enter a task!")}newTaskBtn.addEventListener("click",event=>{event.preventDefault(),overlay.style.display="block",newTaskInput.focus(),setTimeout(()=>{newTaskPopup.classList.add("show")},10)}),document.addEventListener("click",event=>{event.target.closest(".new-task-popup")||event.target===newTaskBtn||(newTaskPopup.classList.remove("show"),overlay.style.display="none")}),submitBtn.addEventListener("click",addTask),newTaskInput.addEventListener("keydown",event=>{"Enter"===event.key&&addTask()});const checkboxes=document.querySelectorAll('.task-container input[type="checkbox"]');checkboxes.forEach(checkbox=>{const taskBox=checkbox.nextElementSibling;checkbox.addEventListener("change",()=>{checkbox.checked?taskBox.classList.add("checked"):taskBox.classList.remove("checked")})})});